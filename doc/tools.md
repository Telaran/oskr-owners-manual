# Tools

## Text editors

To edit configuration files, change settings, etc, you'll find
yourself using a text editor to perform a variety of tasks. The
following text editors are installed by default. If you don't know
which one to use you probably want to start with **nano**.

* **nano** - The recommended editor for most users. Provides basic
    instructions on the screen.

* **vi** - A very low resource editor that operates in modal mode that
    is confusing to beginners. However it is available on the most
    minimal of server and embedded installs. It is useful to know the
    basics of vi as it will be installed on systems with no other editors.
	
* **mg** - A low footprint editor that mimics the basic keystrokes and
    opeations of the popular text editor emacs.
	
* **emacs** - Is not installed but aliased to the mg program for
    people who keep typing `emacs` out of muscle memory.

## logcat

Since Vector runs a variant of the Android operating system we have
access to all the standard Android tools. These are a little different
than the standard linux tools. One very important one is
`logcat`. This is the system used to look at all the logs being
generated by various components. This includes both low level system
events and high level events logged by the software controlling
Vector.

To view a stream of logging in real time:

```
ssh root@<ROBOT_IP>
logcat
```
However there is so much information being logged it can be difficult
to see what you want. You'll need to know two things to filter logs
effectively.

First there are options to filter that are in line with a typical
debugging hierarchy. You can choose a log level and only see errors
that are as or more sever than the chosen log level.  For example
`logcat *:W` will filter out *Debug* and *Info* level messages.


* ""D""ebug
* **I**information
* **W**arning
* **E**rror
* **F**atal
* **S**uppress all messages.

There is also a subsystem encoded in the logcat output. In the
following example we have the subsystems *rampost*, *vic-robot*,
*vic-anim*, *vic-switchboard*, *update-engine*, *vic-cloud* and *chronyd*.

```
10-09 01:58:47.525  1927  1927 I rampost : @rampost.rampost.exit000005123
10-09 01:58:48.111  1969  1969 I vic-robot: @hal.body_versionfe3d1101ffffffffffffffffffffffff577330303030303030333435613163009af999d6117621
10-09 01:58:49.751  2039  2039 I vic-anim: @random_generator.seedAnimContext266417959619261
10-09 01:58:50.345  2156  2156 I vic-switchboard: @switchboard.hellohello215619854
10-09 01:58:55.172  2278  2278 I update-engine: @robot.ota_download_start000024678
10-09 01:58:55.541  2129  2169 I vic-cloud: @profile_id.start2myn3gMaZqYFjTgw9pkmnTB25051
10-09 01:59:03.799  1798  1798 I chronyd : @ntp.timesync31491
```

We can control the level of an individual subsystem and use the
wildcard * to control anything that doesn't match the other
parameters:

* `logcat vic-anim:* *:S` show everything for vic-anim only.

*  `logcat vic-cloud:I vic-anim:I *:E` show info for vic-anim and
    vic-cloud and any error we see.

Just watching the logs flow by while Vector is in operation can start
to give you a better idea of what the systems are doing.

## Development Web Servers

The more important Vector subsystems come with embedded webservers for
development that do not run on Production Vectors. The interfaces are
designed for internal use and aren't the prettiest but they provide a
wealth of information about Vector.

These are enabled on OSKR Vectors, but fire-walled off by default as
they allow low-level control of the Vector. There are a few ways to
remove the firewall but the quickest is ssh port forwarding. Start a
session with port forwarding to get access to the web servers:

```
ssh -L 8887:localhost:8887 -L 8888:localhost:8888 -L 8889:localhost:8889 root@192.168.1.110
```

And now in your computer's web browser go to <http://localhost:8888>
to access the webserver embedded in `vic-engine`. You should see this:

![](./img/engine-web-server.png)

There is **a lot** of things you can see here and you're encouraged to
poke around. For now we'll provide a brief overview of the two main
systems.

### Console variable access

On the first screen you will see several options referring to
**Console Variables**. These are used to provide various flags to
change behavior of Vector, gather information, and more.


## self test

